<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Poppins&display=swap");
    body {
        font-family: 'Poppins', Arial, sans-serif;
        background-image: url('pins.jpg'); /* Replace with your image URL */
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100vh;
        margin: 0;
    }

    .container {
        background: rgba(95, 95, 95, 0.4); /* Semi-transparent white background */
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        max-width: 400px;
        width: 80%;
        margin-top: 10rem;
        box-shadow: 5px 5px 20px 5px rgba(2, 2, 30, 0.78);
        backdrop-filter: blur(0px);
    }

    h1 {
        margin-bottom: 4rem;
        text-align: center;
        color: #A300F7;
        filter: drop-shadow(1px 1px 15px  #872FEB);
    }

    form {
        display: flex;
        flex-direction: column;
    }

    input {
        padding: 15px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        
        border: 1.5px solid #A8A3AD;
        outline: 1px solid #872FEB;
        border-radius: 50px;
    }

    input:hover {
        outline: 2px solid #872FEB;
         filter: drop-shadow(1px 1px 15px  #872FEB);
    }

    

    button {
        padding: 13px;
        background-color: deepskyblue;
        color: papayawhip;
        border: none;
        border-radius: 50px;
        cursor: pointer;
        margin-top: 50px;
        font-size: 20px;
    }

    button:hover {
        background-color: #2DE882;
    }

    .back-link {
        text-align: center;
        margin-top: 10px;
    }

    .back-link a {
        color: #26C8DE;
        text-decoration: none;
        font-size: 14px;
    }

    .back-link a:hover {
        color: red;
    }

    .checkbox {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 10px;
    }

    label {
        font-weight: bold;
        font-size: 13px;
        color: #26C8DE;
        margin-bottom: 5px;
    }

    span {
        color: #17FE85;
        font-size: 13px;
    }

    .forgot-password {
        text-align: center;
        margin-top: 10px;
    }

    .forgot-password a {
        color: #26C8DE;
        text-decoration: none;
        font-size: 13px;
    }

    .forgot-password a:hover {
        color: deepskyblue;
    }

    .spinner {
        border: 4px solid #f3f3f3;
        border-radius: 50%;
        border-top: 4px solid #3498db;
        width: 40px;
        height: 40px;
        animation: spin 2s linear infinite;
        display: none;
        margin: 0 auto;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    .class.ai, p {
     font-size: 10px;
     font-weight: bolder;
     font-family: 'Poppins';
     background-size: 300% 300%;
   /*/animation: gradient 12s cubic-bezier(0.4, 0, 0.2, 1) infinite;/*/
     background-image: linear-gradient(
     45deg, #FF0000, #FF7300, #FFFB00, #48FF00, #00FFD5, #002BFF, #FF00CB, #FF0000
   );
   animation: glowing 20s linear infinite;
   background-clip: text;
   -webkit-background-clip: text;
   color: transparent;
  }
  
  @keyframes glowing {
   0% {
    background-position: 0% 0%;
   }
   50% {
    background-position: 400% 0%;
   }
   100% {
    background-position: 0% 0%;
   }
  }
  

    
    </style>
</head>
<body>
    <div class="container">
        <h1>Login</h1>
        <form id="loginForm">
            <input type="text" id="username" placeholder="Username" required />
            
            <input type="password" id="password" placeholder="Password" required />
            <div class="checkbox">
                <input type="checkbox" onclick="togglePassword()" />
                <label>Show Password</label>
            </div>
            <button type="submit">Login</button>
        </form>
        <div class="spinner" id="spinner"></div>
        <div class="forgot-password">
            <p><a href="/forgot-password.html">Forgot Password?</a></p>
        </div>
        <div class="back-link">
            <p><a href="register.html"><span>Don't have an account?</span>register</a></p>
        </div>
    </div>
    <script>
    function togglePassword() {
        const passwordField = document.getElementById("password");
        passwordField.type = (passwordField.type === "password") ? "text" : "password";
    }

    document.getElementById('loginForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const spinner = document.getElementById('spinner');

        spinner.style.display = 'block';

        fetch('https://api.ipify.org?format=json')
            .then(response => response.json())
            .then(data => {
                const ipAddress = data.ip;
                loginUser(username, password, ipAddress);
            })
            .catch(error => {
                console.error('Error fetching IP address:', error);
                alert('Failed to fetch IP address. Please try again later.');
                spinner.style.display = 'none';
            });
    });

    function loginUser(username, password, ipAddress) {
        const users = JSON.parse(localStorage.getItem('users')) || [];
        const user = users.find(user => user.username === username && user.password === password);
        
        if (user) {
            user.ipAddress = ipAddress;
            localStorage.setItem('loggedInUser', JSON.stringify(user));
            window.location.href = user.isAdmin ? 'adminryel.html' : 'welcome-user.html';
        } else {
            alert('Invalid username or password');
            document.getElementById('spinner').style.display = 'none';
        }
    }
    </script>
    <footer>
     <p class="class-ai">Â©developed by half human and half alien</p>
    </footer>
</body>
</html>
